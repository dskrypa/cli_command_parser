<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Input Types &mdash; CLI Command Parser 2022.09.19 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/sphinx_paramlinks.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Subcommands" href="subcommands.html" />
    <link href="_static/rtd_custom.css" rel="stylesheet", type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CLI Command Parser
          </a>
              <div class="version">
                2022.09.19
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="groups.html">Parameter Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="subcommands.html">Subcommands</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Input Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#paths-files">Paths &amp; Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#path">Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file">File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serialized-files">Serialized Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#numeric-ranges">Numeric Ranges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#range">Range</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numrange">NumRange</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#choice-inputs">Choice Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#choices">Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#choicemap">ChoiceMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enumchoices">EnumChoices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#date-time">Date &amp; Time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#day-month">Day &amp; Month</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#day">Day</a></li>
<li class="toctree-l4"><a class="reference internal" href="#month">Month</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#full-date-time-parsing">Full Date / Time Parsing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#datetime">DateTime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date">Date</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time">Time</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing Commands</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Script Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Scripts</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CLI Command Parser</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Input Types</li>
    <li class="wy-breadcrumbs-aside">
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="input-types">
<h1>Input Types<a class="headerlink" href="#input-types" title="Permalink to this heading"></a></h1>
<p>Parameters that accept a <a class="reference internal" href="parameters.html#parameters:type"><span class="std std-ref">type</span></a> parameter can accept any callable to transform parsed
argument values, but some custom types are defined here to facilitate common use cases.</p>
<section id="paths-files">
<h2>Paths &amp; Files<a class="headerlink" href="#paths-files" title="Permalink to this heading"></a></h2>
<section id="path">
<h3>Path<a class="headerlink" href="#path" title="Permalink to this heading"></a></h3>
<p>To automatically handle common normalization steps / checks that are done for paths, the <a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.Path" title="cli_command_parser.inputs.files.Path"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a> class is
available.</p>
<p id="path-init-params"><strong>Path initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="path:exists">exists</dt>
<dd class="field-odd"><p>If set, then the provided path must already exist if True, or must not already exist if False.  By default,
existence is not checked.</p>
</dd>
<dt class="field-even" id="path:expand">expand</dt>
<dd class="field-even"><p>Whether tilde (<code class="docutils literal notranslate"><span class="pre">~</span></code>) should be expanded.  Defaults to True.</p>
</dd>
<dt class="field-odd" id="path:resolve">resolve</dt>
<dd class="field-odd"><p>Whether the path should be fully resolved to its absolute path, with symlinks resolved, or not.  Defaults to
False.</p>
</dd>
<dt class="field-even" id="path:type">type</dt>
<dd class="field-even"><p>To restrict the acceptable types of files/directories that are accepted, specify the <a class="reference internal" href="api/cli_command_parser.inputs.utils.html#cli_command_parser.inputs.utils.StatMode" title="cli_command_parser.inputs.utils.StatMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatMode</span></code></a> that
matches the desired type.  By default, any type is accepted.  To accept specifically only regular files or
directories, for example, use <code class="docutils literal notranslate"><span class="pre">type=StatMode.DIR</span> <span class="pre">|</span> <span class="pre">StatMode.FILE</span></code>.</p>
</dd>
<dt class="field-odd" id="path:readable">readable</dt>
<dd class="field-odd"><p>If True, the path must be readable.</p>
</dd>
<dt class="field-even" id="path:writable">writable</dt>
<dd class="field-even"><p>If True, the path must be writable.</p>
</dd>
<dt class="field-odd" id="path:allow_dash">allow_dash</dt>
<dd class="field-odd"><p>Allow a dash (<code class="docutils literal notranslate"><span class="pre">-</span></code>) to be provided to indicate stdin/stdout (default: False).</p>
</dd>
</dl>
<p>Given the following (truncated) <a class="reference external" href="https://github.com/dskrypa/cli_command_parser/blob/main/examples/custom_inputs.py">example</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cli_command_parser</span> <span class="kn">import</span> <span class="n">Command</span><span class="p">,</span> <span class="n">Option</span><span class="p">,</span> <span class="n">main</span><span class="p">,</span> <span class="n">inputs</span> <span class="k">as</span> <span class="n">i</span>

<span class="k">class</span> <span class="nc">InputsExample</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span><span class="s1">&#39;-p&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;file&#39;</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The path to a file&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You provided path=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ custom_inputs.py -p examples
argument --path / -p: bad value=&#39;examples&#39; for type=&lt;Path(exists=True, type=&lt;StatMode:FILE&gt;)&gt;: expected a regular file

$ custom_inputs.py -p examples/custom_inputs.py
You provided path=examples/custom_inputs.py

$ custom_inputs.py -p examples/custom_inputs.p
argument --path / -p: bad value=&#39;examples/custom_inputs.p&#39; for type=&lt;Path(exists=True, type=&lt;StatMode:FILE&gt;)&gt;: it does not exist
</pre></div>
</div>
</section>
<section id="file">
<h3>File<a class="headerlink" href="#file" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.File" title="cli_command_parser.inputs.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> custom input extends <a class="reference internal" href="#path"><span class="std std-ref">Path</span></a>, so it can accept all of the same options, but it provides
functionality for directly reading or writing to the provided path.</p>
<p id="file-init-params"><strong>Additional File initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="file:mode">mode</dt>
<dd class="field-odd"><p>The mode in which the file should be opened.  Defaults to <code class="docutils literal notranslate"><span class="pre">r</span></code> for reading text.  For more info,
see <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">open()</span></code></a>.</p>
</dd>
<dt class="field-even" id="file:encoding">encoding</dt>
<dd class="field-even"><p>The encoding to use when reading the file in text mode.  Ignored if the parsed path is <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
</dd>
<dt class="field-odd" id="file:errors">errors</dt>
<dd class="field-odd"><p>Error handling when reading the file in text mode.  Ignored if the parsed path is <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
</dd>
<dt class="field-even" id="file:lazy">lazy</dt>
<dd class="field-even"><p>If True, a <a class="reference internal" href="api/cli_command_parser.inputs.utils.html#cli_command_parser.inputs.utils.FileWrapper" title="cli_command_parser.inputs.utils.FileWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWrapper</span></code></a> will be stored in the Parameter using this File, otherwise the file will be
read immediately upon parsing of the path argument.</p>
</dd>
</dl>
<p>Using another snippet from the above <a class="reference external" href="https://github.com/dskrypa/cli_command_parser/blob/main/examples/custom_inputs.py">example</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">InputsExample</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>
    <span class="n">in_file</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span><span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">allow_dash</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The path to a file to read&#39;</span><span class="p">)</span>
    <span class="n">out_file</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">FileWrapper</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">allow_dash</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The path to a file to write&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Content from the provided file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">in_file</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">out_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see the results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo &#39;stdin example&#39; | custom_inputs.py -f-
Content from the provided file: &#39;stdin example\n&#39;

$ echo &#39;stdin example&#39; | examples/custom_inputs.py -f- -o example_out.txt

$ cat example_out.txt
Content from the provided file: &#39;stdin example\n&#39;
</pre></div>
</div>
<p>By setting <code class="docutils literal notranslate"><span class="pre">lazy=False</span></code>, the <code class="docutils literal notranslate"><span class="pre">in_file</span></code> Option in the above example eagerly loaded the content, so the entire file
contents were stored in the Parameter.  The default is for only the path to be stored, and a <a class="reference internal" href="api/cli_command_parser.inputs.utils.html#cli_command_parser.inputs.utils.FileWrapper" title="cli_command_parser.inputs.utils.FileWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWrapper</span></code></a> that
has <a class="reference internal" href="api/cli_command_parser.inputs.utils.html#cli_command_parser.inputs.utils.FileWrapper.read" title="cli_command_parser.inputs.utils.FileWrapper.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FileWrapper.read()</span></code></a> and <a class="reference internal" href="api/cli_command_parser.inputs.utils.html#cli_command_parser.inputs.utils.FileWrapper.write" title="cli_command_parser.inputs.utils.FileWrapper.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FileWrapper.write()</span></code></a> methods is returned.  The file will only be opened for
reading/writing when those methods are called, as can be seen in the example when <code class="docutils literal notranslate"><span class="pre">self.out_file.write(...)</span></code> is
called.</p>
</section>
<section id="serialized-files">
<h3>Serialized Files<a class="headerlink" href="#serialized-files" title="Permalink to this heading"></a></h3>
<p>In addition to plain text or binary files, custom input handlers also exist for <a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.Json" title="cli_command_parser.inputs.files.Json"><code class="xref py py-class docutils literal notranslate"><span class="pre">Json</span></code></a> and <a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.Pickle" title="cli_command_parser.inputs.files.Pickle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pickle</span></code></a>,
and a generic handler (<a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.Serialized" title="cli_command_parser.inputs.files.Serialized"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serialized</span></code></a>) exists for any other serialization format.  They all extend
<a class="reference internal" href="#file"><span class="std std-ref">File</span></a>, so the same options are accepted.</p>
<p id="serialized-init-params"><strong>Additional Serialized initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="serialized files:converter">converter</dt>
<dd class="field-odd"><p>The function to call to serialize or deserialize the content in the specified file</p>
</dd>
<dt class="field-even" id="serialized files:pass_file">pass_file</dt>
<dd class="field-even"><p>True to call the given function with the file, False to handle (de)serialization and read/write as
separate steps.  If True, when reading, the converter will be called with the file as the only argument; when writing,
the converter will be called as <code class="docutils literal notranslate"><span class="pre">converter(data,</span> <span class="pre">f)</span></code>.  If False, when reading, the converter will be called with
the content from the file; when writing, the converter will be called before writing the data to the file.</p>
</dd>
</dl>
<p>The JSON and Pickle handlers do not accept the above 2 parameters.  The converter is automatically picked to be
<code class="docutils literal notranslate"><span class="pre">dump</span></code> or <code class="docutils literal notranslate"><span class="pre">load</span></code> based on whether the provided <code class="docutils literal notranslate"><span class="pre">mode</span></code> is for reading or writing, and the <code class="docutils literal notranslate"><span class="pre">pass_file</span></code>
option will be overridden if provided.</p>
<p>Adding another snippet to the above <a class="reference external" href="https://github.com/dskrypa/cli_command_parser/blob/main/examples/custom_inputs.py">example</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">InputsExample</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>
    <span class="n">json</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">FileWrapper</span> <span class="o">=</span> <span class="n">Option</span><span class="p">(</span><span class="s1">&#39;-j&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">Json</span><span class="p">(</span><span class="n">allow_dash</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The path to a file containing json&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You provided a </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">iter_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="n">data</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">data</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iter_data</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">] </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see that the JSON content from stdin was automatically deserialized when <code class="docutils literal notranslate"><span class="pre">self.json.read()</span></code> was called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo &#39;{&quot;a&quot;: 1, &quot;b&quot;: 2}&#39; | examples/custom_inputs.py -j -
You provided a dict
[0] (&#39;a&#39;, 1)
[1] (&#39;b&#39;, 2)
</pre></div>
</div>
<p>When using the generic <a class="reference internal" href="api/cli_command_parser.inputs.files.html#cli_command_parser.inputs.files.Serialized" title="cli_command_parser.inputs.files.Serialized"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serialized</span></code></a> directly, the specific (de)serialization function needs to be provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Serialized</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">Serialized</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">,</span> <span class="n">pass_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">Serialized</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">Serialized</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">,</span> <span class="n">pass_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">Serialized</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">Serialized</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">,</span> <span class="n">pass_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="numeric-ranges">
<h2>Numeric Ranges<a class="headerlink" href="#numeric-ranges" title="Permalink to this heading"></a></h2>
<section id="range">
<h3>Range<a class="headerlink" href="#range" title="Permalink to this heading"></a></h3>
<p>To restrict the allowed values to only integers in a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">range</span></code></a>, the <a class="reference internal" href="api/cli_command_parser.inputs.numeric.html#cli_command_parser.inputs.numeric.Range" title="cli_command_parser.inputs.numeric.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a> input type is available.</p>
<p>For convenience, Parameters can be initialized with a normal <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">range</span></code></a> object as <code class="docutils literal notranslate"><span class="pre">type=range(...)</span></code>,
and it will automatically be wrapped in a <a class="reference internal" href="api/cli_command_parser.inputs.numeric.html#cli_command_parser.inputs.numeric.Range" title="cli_command_parser.inputs.numeric.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a> input handler.  To use the <code class="docutils literal notranslate"><span class="pre">snap</span></code> feature, <a class="reference internal" href="api/cli_command_parser.inputs.numeric.html#cli_command_parser.inputs.numeric.Range" title="cli_command_parser.inputs.numeric.Range"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a>
must be used directly.</p>
<p id="range-init-params"><strong>Range initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="range:range">range</dt>
<dd class="field-odd"><p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">range</span></code></a> object</p>
</dd>
<dt class="field-even" id="range:snap">snap</dt>
<dd class="field-even"><p>If True and a provided value is outside the allowed range, snap to the nearest bound.  The min or max
of the provided range (not necessarily the start/stop values) will be used, depending on which one the provided
value exceeded.</p>
</dd>
</dl>
</section>
<section id="numrange">
<h3>NumRange<a class="headerlink" href="#numrange" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="api/cli_command_parser.inputs.numeric.html#cli_command_parser.inputs.numeric.NumRange" title="cli_command_parser.inputs.numeric.NumRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumRange</span></code></a> input type can be used to restrict values to either integers or floats between a min and max,
or only bound on one side.  At least one of min or max is required, and min must be less than max.</p>
<p>By default, the min and max behave like the builtin <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">range</span></code></a> - the min is inclusive, and the max is
exclusive.</p>
<p id="numrange-init-params"><strong>NumRange initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="numrange:type">type</dt>
<dd class="field-odd"><p>The type for values, or any callable that returns an int/float.  Defaults to float if one or both of min or max
is a float, otherwise int.</p>
</dd>
<dt class="field-even" id="numrange:snap">snap</dt>
<dd class="field-even"><p>If True and a provided value is outside the allowed range, snap to the nearest bound.  Respects inclusivity
/ exclusivity of the bound.  Not supported for floats since there is not an obviously correct behavior for handling
them in this context.</p>
</dd>
<dt class="field-odd" id="numrange:min">min</dt>
<dd class="field-odd"><p>The minimum allowed value, or None to have no lower bound.</p>
</dd>
<dt class="field-even" id="numrange:max">max</dt>
<dd class="field-even"><p>The maximum allowed value, or None to have no upper bound.</p>
</dd>
<dt class="field-odd" id="numrange:include_min">include_min</dt>
<dd class="field-odd"><p>Whether the minimum is inclusive (default: True).</p>
</dd>
<dt class="field-even" id="numrange:include_max">include_max</dt>
<dd class="field-even"><p>Whether the maximum is inclusive (default: False).</p>
</dd>
</dl>
</section>
</section>
<section id="choice-inputs">
<h2>Choice Inputs<a class="headerlink" href="#choice-inputs" title="Permalink to this heading"></a></h2>
<p>Choice inputs provide a way to validate / normalize input against a pre-defined set of values.</p>
<section id="choices">
<h3>Choices<a class="headerlink" href="#choices" title="Permalink to this heading"></a></h3>
<p>Validates that values are members of the collection of allowed values.  Choices may be provided to Parameters as
either <code class="docutils literal notranslate"><span class="pre">choices=...</span></code> or as <code class="docutils literal notranslate"><span class="pre">type=Choices(...)</span></code>.  If they are provided as <code class="docutils literal notranslate"><span class="pre">choices=...</span></code>, then a <a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.Choices" title="cli_command_parser.inputs.choices.Choices"><code class="xref py py-class docutils literal notranslate"><span class="pre">Choices</span></code></a>
input type will automatically be created to handle validating those choices.  Any <code class="docutils literal notranslate"><span class="pre">type=...</span></code> argument to the
Parameter will be passed through when initializing the <a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.Choices" title="cli_command_parser.inputs.choices.Choices"><code class="xref py py-class docutils literal notranslate"><span class="pre">Choices</span></code></a> object.  To adjust case-sensitivity,
<a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.Choices" title="cli_command_parser.inputs.choices.Choices"><code class="xref py py-class docutils literal notranslate"><span class="pre">Choices</span></code></a> must be initialized directly.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">choices</span></code> is a dict or other type of mapping, then only the keys will be used.  See <a class="reference internal" href="#choicemap"><span class="std std-ref">ChoiceMap</span></a> for
another option for handling dicts.</p>
<p id="choices-init-params"><strong>Choices initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="choices:choices">choices</dt>
<dd class="field-odd"><p>A collection of choices allowed for a given Parameter.</p>
</dd>
<dt class="field-even" id="choices:type">type</dt>
<dd class="field-even"><p>Called before evaluating whether a value matches one of the allowed choices, if provided.  Must accept
a single string argument.</p>
</dd>
<dt class="field-odd" id="choices:case_sensitive">case_sensitive</dt>
<dd class="field-odd"><p>Whether choices should be case-sensitive.  Defaults to True.  If the choices values are not
all strings, then this cannot be set to False.</p>
</dd>
</dl>
</section>
<section id="choicemap">
<h3>ChoiceMap<a class="headerlink" href="#choicemap" title="Permalink to this heading"></a></h3>
<p>Similar to <a class="reference internal" href="#choices"><span class="std std-ref">Choices</span></a>, but requires a mapping for allowed values.</p>
<p id="choicemap-init-params"><strong>ChoiceMap initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="choicemap:choices">choices</dt>
<dd class="field-odd"><p>Mapping (dict) where for a given key=value pair, the key is the value that is expected to be
provided as an argument, and the value is what should be stored in the Parameter for that argument.</p>
</dd>
<dt class="field-even" id="choicemap:type">type</dt>
<dd class="field-even"><p>Called before evaluating whether a value matches one of the allowed choices, if provided.  Must accept
a single string argument.</p>
</dd>
<dt class="field-odd" id="choicemap:case_sensitive">case_sensitive</dt>
<dd class="field-odd"><p>Whether choices should be case-sensitive.  Defaults to True.  If the choices keys are not
all strings, then this cannot be set to False.</p>
</dd>
</dl>
</section>
<section id="enumchoices">
<h3>EnumChoices<a class="headerlink" href="#enumchoices" title="Permalink to this heading"></a></h3>
<p>Similar to <a class="reference internal" href="#choicemap"><span class="std std-ref">ChoiceMap</span></a>, but the <a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.EnumChoices" title="cli_command_parser.inputs.choices.EnumChoices"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumChoices</span></code></a> input uses an Enum to validate / normalize input
instead of the keys in a dict.  Facilitates the use of Enums as an input type without the need to provide a redundant
<code class="docutils literal notranslate"><span class="pre">choices</span></code> argument for accepted values or implement <code class="docutils literal notranslate"><span class="pre">_missing_</span></code> to be more permissive.</p>
<p>If incorrect input is received, the error message presented to the user will list the names of the members of the
provided Enum, as they would if they were provided as <code class="docutils literal notranslate"><span class="pre">choices</span></code>.</p>
<p>For convenience, Parameters can be initialized with a normal Enum subclass as <code class="docutils literal notranslate"><span class="pre">type=MyEnum</span></code>, and it will
automatically be wrapped in a <a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.EnumChoices" title="cli_command_parser.inputs.choices.EnumChoices"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumChoices</span></code></a> input handler.  If an Enum is provided as the type, and
<code class="docutils literal notranslate"><span class="pre">choices=...</span></code> is also specified, then the Enum will not be wrapped.  To enable case-sensitive matching,
<a class="reference internal" href="api/cli_command_parser.inputs.choices.html#cli_command_parser.inputs.choices.EnumChoices" title="cli_command_parser.inputs.choices.EnumChoices"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumChoices</span></code></a> must be used directly.</p>
<p id="enumchoices-init-params"><strong>EnumChoices initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="enumchoices:enum">enum</dt>
<dd class="field-odd"><p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">enum.Enum</span></code></a>.</p>
</dd>
<dt class="field-even" id="enumchoices:case_sensitive">case_sensitive</dt>
<dd class="field-even"><p>Whether choices should be case-sensitive.  Defaults to False.</p>
</dd>
</dl>
</section>
</section>
<section id="date-time">
<h2>Date &amp; Time<a class="headerlink" href="#date-time" title="Permalink to this heading"></a></h2>
<p>Date and Time inputs provide a way to parse day, month, datetime, date, and time inputs with optional alternate
localization support.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Locale Support</p>
<p>Alternate locale support is handled by using <a class="reference external" href="https://docs.python.org/3/library/locale.html#locale.setlocale" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">locale.setlocale()</span></code></a>, which may cause problems on some
systems.  Using alternate locales in this manner should not be used in a multi-threaded application, as it will
lead to unexpected output from other parts of the program.</p>
<p>If you do not specify a <code class="docutils literal notranslate"><span class="pre">locale</span></code> or <code class="docutils literal notranslate"><span class="pre">out_locale</span></code> value for any input type in this section, then the locale will
not be modified by this library (<code class="docutils literal notranslate"><span class="pre">setlocale</span></code> will not be used).</p>
<p>If you need to handle multiple locales and this is a problem for your application, then you should leave the
<code class="docutils literal notranslate"><span class="pre">locale</span></code> parameters empty / <code class="docutils literal notranslate"><span class="pre">None</span></code> and use a proper i18n library like <a class="reference external" href="https://babel.pocoo.org/">babel</a>
for localization.</p>
</div>
<section id="day-month">
<h3>Day &amp; Month<a class="headerlink" href="#day-month" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.Day" title="cli_command_parser.inputs.time.Day"><code class="xref py py-class docutils literal notranslate"><span class="pre">Day</span></code></a> and <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.Month" title="cli_command_parser.inputs.time.Month"><code class="xref py py-class docutils literal notranslate"><span class="pre">Month</span></code></a> input types accept full, abbreviated, and numeric input values, and return full
names for the parsed values by default.  Both can be configured to return numeric values instead.  Day supports both
ISO 8601 (1-7) and non-ISO (0-6) numeric weekday values for both input and output (configurable independently).</p>
<p>Input and output locales are configurable independently, but if an input locale is specified, then the output locale
defaults to the same locale as the input one.  By default, locale modification is not performed.</p>
<section id="day">
<h4>Day<a class="headerlink" href="#day" title="Permalink to this heading"></a></h4>
<p>Input type representing a day of the week.</p>
<p id="day-init-params"><strong>Day initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="day:full">full</dt>
<dd class="field-odd"><p>Allow the full day name to be provided</p>
</dd>
<dt class="field-even" id="day:abbreviation">abbreviation</dt>
<dd class="field-even"><p>Allow abbreviations of day names to be provided</p>
</dd>
<dt class="field-odd" id="day:numeric">numeric</dt>
<dd class="field-odd"><p>Allow weekdays to be specified as a decimal number</p>
</dd>
<dt class="field-even" id="day:iso">iso</dt>
<dd class="field-even"><p>Ignored if <code class="docutils literal notranslate"><span class="pre">numeric</span></code> is False.  If True, then numeric weekdays are treated as ISO 8601 weekdays,
where 1 is Monday and 7 is Sunday.  If False, then 0 is Monday and 6 is Sunday.</p>
</dd>
<dt class="field-odd" id="day:locale">locale</dt>
<dd class="field-odd"><p>An alternate locale to use when parsing input</p>
</dd>
<dt class="field-even" id="day:out_format">out_format</dt>
<dd class="field-even"><p>A <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.DTFormatMode" title="cli_command_parser.inputs.time.DTFormatMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTFormatMode</span></code></a> or str that matches a format mode.  Defaults to full weekday name.</p>
</dd>
<dt class="field-odd" id="day:out_locale">out_locale</dt>
<dd class="field-odd"><p>Alternate locale to use for output.  Defaults to the same value as <code class="docutils literal notranslate"><span class="pre">locale</span></code>.</p>
</dd>
</dl>
</section>
<section id="month">
<h4>Month<a class="headerlink" href="#month" title="Permalink to this heading"></a></h4>
<p>Input type representing a month.</p>
<p id="month-init-params"><strong>Month initialization parameters:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="month:full">full</dt>
<dd class="field-odd"><p>Allow the full month name to be provided</p>
</dd>
<dt class="field-even" id="month:abbreviation">abbreviation</dt>
<dd class="field-even"><p>Allow abbreviations of month names to be provided</p>
</dd>
<dt class="field-odd" id="month:numeric">numeric</dt>
<dd class="field-odd"><p>Allow months to be specified as a decimal number</p>
</dd>
<dt class="field-even" id="month:locale">locale</dt>
<dd class="field-even"><p>An alternate locale to use when parsing input</p>
</dd>
<dt class="field-odd" id="month:out_format">out_format</dt>
<dd class="field-odd"><p>A <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.DTFormatMode" title="cli_command_parser.inputs.time.DTFormatMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTFormatMode</span></code></a> or str that matches a format mode.  Defaults to full month name.</p>
</dd>
<dt class="field-even" id="month:out_locale">out_locale</dt>
<dd class="field-even"><p>Alternate locale to use for output.  Defaults to the same value as <code class="docutils literal notranslate"><span class="pre">locale</span></code>.</p>
</dd>
</dl>
</section>
</section>
<section id="full-date-time-parsing">
<h3>Full Date / Time Parsing<a class="headerlink" href="#full-date-time-parsing" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.DateTime" title="cli_command_parser.inputs.time.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTime</span></code></a>, <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.Date" title="cli_command_parser.inputs.time.Date"><code class="xref py py-class docutils literal notranslate"><span class="pre">Date</span></code></a>, and <a class="reference internal" href="api/cli_command_parser.inputs.time.html#cli_command_parser.inputs.time.Time" title="cli_command_parser.inputs.time.Time"><code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code></a> input types accept multiple format strings for processing
input, and default to formats very close to <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO</a>
<a class="reference external" href="https://xkcd.com/1179/">8601</a>.  Each of these input types also accepts optional earliest and latest bounds
(inclusive) to validate that the provided date/time falls within an expected time range.  They all return parsed values
as objects of their respective <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">datetime</span></code></a> classes.</p>
<p id="datetime-init-params"><strong>Common initialization parameters for DateTime, Date, and Time inputs:</strong></p>
<dl class="field-list simple">
<dt class="field-odd" id="full date / time parsing:formats">formats</dt>
<dd class="field-odd"><p>One or more <a class="reference external" href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" title="(in Python v3.10)"><span class="xref std std-ref">datetime format strings</span></a>.</p>
</dd>
<dt class="field-even" id="full date / time parsing:locale">locale</dt>
<dd class="field-even"><p>An alternate locale to use when parsing input</p>
</dd>
<dt class="field-odd" id="full date / time parsing:earliest">earliest</dt>
<dd class="field-odd"><p>If specified, the parsed value must be later than or equal to this</p>
</dd>
<dt class="field-even" id="full date / time parsing:latest">latest</dt>
<dd class="field-even"><p>If specified, the parsed value must be earlier than or equal to this</p>
</dd>
</dl>
<section id="datetime">
<h4>DateTime<a class="headerlink" href="#datetime" title="Permalink to this heading"></a></h4>
<p>Input type that accepts any number of datetime format strings for parsing input.  Parsing results in returning
a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> object.</p>
</section>
<section id="date">
<h4>Date<a class="headerlink" href="#date" title="Permalink to this heading"></a></h4>
<p>Input type that accepts any number of datetime format strings for parsing input.  Parsing results in returning
a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">datetime.date</span></code></a> object.</p>
</section>
<section id="time">
<h4>Time<a class="headerlink" href="#time" title="Permalink to this heading"></a></h4>
<p>Input type that accepts any number of datetime format strings for parsing input.  Parsing results in returning
a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">datetime.time</span></code></a> object.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="subcommands.html" class="btn btn-neutral float-left" title="Subcommands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Doug Skrypa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>